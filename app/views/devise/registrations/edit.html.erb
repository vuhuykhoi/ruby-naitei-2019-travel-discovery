<% provide :title, t("page_title.edit_user") %>
<% provide :header_partial, "shared/header_partial/title" %>

<div class="site-section bg-light">
  <div class="container">
    <div class="row">
      <div class="col-md-9 offset-md-2">
        <%= form_for resource, as: resource_name, url: registration_path(resource_name),
        html: { method: :put, class: "p-5 bg-white", style: "margin-top: -150px;"} do |f| %>
          <%= render "devise/shared/error_messages", resource: resource %>
          <div class="row">
            <% if user_signed_in? %>
              <div class="col-md-4">
                <div class="gravatar_edit">
                  <%= gravatar_for @user %>
                  <span class="btn btn-default btn-file">
                    <%= f.file_field :avatar, id: "avatar-upload" %>
                  </span>
                  <%= f.hidden_field :avatar_cache %>
                </div>
              </div>
            <% end %>
            <div>
              <div class="row form-group">
                <div class="col-md-12">
                  <%= f.label :email %><br />
                  <%= f.email_field :email, autofocus: true, autocomplete: "email",:readonly => true,:disabled => true, class: "form-control" %>
                </div>
              </div>

              <div class="row form-group">
                <div class="col-md-12">
                  <%= f.label :username, class: "text-black" %>
                  <%= f.text_field :username, class: "form-control",autocomplete: "username" %>
                </div>
              </div>

              <div class="row form-group">
                <div class="col-md-12">
                  <%= f.label :date_of_birth, class: "text-black" %>
                  <div>
                    <%= f.date_select :date_of_birth, {order: [:day,:month, :year],
                    prompt: { day: 'Select day', month: 'Select month', year: 'Select year' },
                     start_year: Date.today.year - 18, end_year: Date.today.year - 100} %>
                  </div>
                </div>
              </div>

              <div class="row form-group">
                <div class="col-md-12">
                  <%= f.label :gender, class: "text-black" %>
                  <div>
                    <%= f.radio_button :gender, Settings.user.gender.male %><span class="option"> Male<span>
                    <%= f.radio_button :gender, Settings.user.gender.female %><span class="option"> Female<span>
                  </div>
                </div>
              </div>

              <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
              <% end %>

              <div class="row form-group">
                <div class="col-md-12">
                <%= f.label :password %>
                <%= f.password_field :password, class: "form-control", autocomplete: "new-password" %>
                </div>
              </div>

              <div class="row form-group">
                <div class="col-md-12">
                  <%= f.label :password_confirmation %><br />
                  <%= f.password_field :password_confirmation, class: "form-control", autocomplete: "new-password" %>
                </div>
              </div>

              <div class="row form-group">
                <div class="col-md-12">
                <%= f.label :current_password %><br />
                <%= f.password_field :current_password, class: "form-control", autocomplete: "current-password" %>
               </div>
              </div>

              <div class="row form-group">
                <div class="col-md-12">
                  <%= f.submit t("button.save_change"), class: "btn btn-primary btn-md text-white" %>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
